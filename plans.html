<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pricing Plans</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    /* Your Theme Palette */
    --bg: #f4f7fb;       /* soft blue-gray */
    --card: #ffffff;     /* white */
    --card2: #eff6ff;    /* light blue tint */
    
    /* Blue Gradient Accents */
    --accent: #1a3a7c;   /* dark navy */
    --accent2: #2563eb;  /* vivid blue */
    --accent3: #3b82f6;  /* bright blue */

    --green: #10b981;
    --red: #ef4444;

    /* Text Colors */
    --text: #1e293b;     /* primary text: near black */
    --muted: #64748b;    /* subtext: slate */
    --light-muted: #94a3b8; /* muted text: light slate */
    
    /* Borders */
    --border: #e2e8f2;   /* light blue-gray */
    
    --font-main: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  }

  body {
    font-family: var(--font-main);
    background: linear-gradient(135deg, #1a3a7c, #3b82f6); /* Page background */
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px 16px;
    color: var(--text);
    line-height: 1.5;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(ellipse 80% 60% at 50% -10%, rgba(59,130,246,0.05), transparent),
                radial-gradient(ellipse 50% 40% at 90% 80%, rgba(26,58,124,0.04), transparent);
    pointer-events: none;
  }

  .wrapper {
    width: 100%;
    max-width: 400px;
    position: relative;
    z-index: 1;
  }

  h1.brand {
    font-weight: 700;
    font-size: 1.25rem;
    letter-spacing: -0.02em;
    color: var(--border);
    text-align: center;
    margin-bottom: 28px;
  }

  .tab-switcher {
    display: flex;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 4px;
    margin-bottom: 24px;
    position: relative;
    box-shadow: 0 4px 12px rgba(30, 41, 59, 0.05);
  }

  .tab-btn {
    flex: 1;
    font-weight: 600;
    font-size: 0.85rem;
    color: var(--muted);
    background: transparent;
    border: none;
    padding: 10px 6px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    z-index: 2;
    font-family: var(--font-main);
  }

  .tab-btn.active { color: #fff; }

  .tab-slider {
    position: absolute;
    top: 4px;
    bottom: 4px;
    border-radius: 8px;
    background: linear-gradient(135deg, var(--accent), var(--accent3));
    transition: left 0.3s ease, width 0.3s ease;
    z-index: 1;
  }

  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 32px 28px 28px;
    box-shadow: 0 20px 40px rgba(30, 41, 59, 0.08);
    animation: fadeUp 0.4s ease both;
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .plan-panel { display: none; }
  .plan-panel.active { display: block; animation: fadeUp 0.35s ease both; }

  .price-block {
    text-align: center;
    margin-bottom: 28px;
  }

  .price-tag {
    font-weight: 800;
    font-size: 3.5rem;
    letter-spacing: -0.05em;
    color: var(--accent);
    line-height: 1;
  }

  .price-tag sup {
    font-size: 0.45em;
    font-weight: 600;
    vertical-align: super;
    margin-right: 2px;
  }

  .price-sub {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--muted);
    margin-top: 4px;
  }

  .features {
    list-style: none;
    margin-bottom: 28px;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .features li {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 0.95rem;
    font-weight: 400;
    color: var(--text);
  }

  .icon {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 0.7rem;
  }

  .icon.check { background: var(--card2); color: var(--accent2); }
  .icon.cross  { background: #fff1f2;  color: var(--red); }
  .features li.off { color: var(--light-muted); }

  .divider {
    height: 1px;
    background: var(--border);
    margin-bottom: 24px;
  }

  .form-group { margin-bottom: 16px; }

  label {
    display: block;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 6px;
  }

  input[type="text"], input[type="email"] {
    width: 100%;
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px 14px;
    font-family: var(--font-main);
    font-size: 0.95rem;
    color: var(--text);
    outline: none;
    transition: all 0.2s;
  }

  input[type="text"]:focus, input[type="email"]:focus {
    border-color: var(--accent2);
    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
  }

  .hint {
    font-size: 0.8rem;
    color: var(--muted);
    margin-top: 12px;
    line-height: 1.4;
  }

  .btn-select {
    width: 100%;
    margin-top: 20px;
    padding: 14px;
    background: linear-gradient(135deg, var(--accent), var(--accent3));
    border: none;
    border-radius: 8px;
    font-family: var(--font-main);
    font-weight: 600;
    font-size: 1rem;
    color: #fff;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-select:hover { opacity: 0.95; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(26, 58, 124, 0.2); }
  .btn-select:active { transform: translateY(0); }
  .btn-select:disabled { opacity: 0.6; cursor: not-allowed; }

  .toast {
    position: fixed;
    bottom: 32px;
    left: 50%;
    transform: translateX(-50%) translateY(80px);
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 14px 24px;
    font-size: 0.9rem;
    font-weight: 600;
    box-shadow: 0 12px 40px rgba(0,0,0,0.1);
    transition: all 0.4s cubic-bezier(.4,0,.2,1);
    opacity: 0;
    z-index: 999;
  }

  .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

  @media (max-width: 420px) {
    .card { padding: 24px 20px 20px; }
    .price-tag { font-size: 2.8rem; }
  }
</style>
</head>
<body>
<div class="wrapper">
  <h1 class="brand">Choose Your Plan</h1>

  <div class="tab-switcher" id="tabSwitcher">
    <div class="tab-slider" id="tabSlider"></div>
    <button class="tab-btn" data-plan="basic" onclick="switchTab('basic')">Basic</button>
    <button class="tab-btn" data-plan="standard" onclick="switchTab('standard')">Standard</button>
    <button class="tab-btn" data-plan="premium" onclick="switchTab('premium')">Premium</button>
  </div>

  <div class="card">
    <div class="plan-panel" id="panel-basic">
      <div class="price-block">
        <div class="price-tag"><sup>LKR</sup>799</div>
        <div class="price-sub">per month</div>
      </div>
      <ul class="features">
        <li><span class="icon check">✓</span> Entry Form</li>
        <li><span class="icon check">✓</span> Dashboard Page</li>
        <li class="off"><span class="icon cross">✕</span> Analytics Page</li>
        <li class="off"><span class="icon cross">✕</span> Download History</li>
        <li class="off"><span class="icon cross">✕</span> AI Chat</li>
      </ul>
      <div class="divider"></div>
      <form onsubmit="submitForm(event,'basic')">
        <div class="form-group">
          <label>Username</label>
          <input type="text" name="username" placeholder="mss0000" required>
        </div>
        <div class="form-group">
          <label>Email Address</label>
          <input type="email" name="email" placeholder="Registered email" required>
        </div>
        <p class="hint">You will receive a confirmation email after clicking the select button.</p>
        <button class="btn-select" type="submit">Select Plan</button>
      </form>
    </div>

    <div class="plan-panel" id="panel-standard">
      <div class="price-block">
        <div class="price-tag"><sup>LKR</sup>999</div>
        <div class="price-sub">per month</div>
      </div>
      <ul class="features">
        <li><span class="icon check">✓</span> Entry Form</li>
        <li><span class="icon check">✓</span> Dashboard Page</li>
        <li><span class="icon check">✓</span> Analytics Page</li>
        <li class="off"><span class="icon cross">✕</span> Download History</li>
        <li class="off"><span class="icon cross">✕</span> AI Chat</li>
      </ul>
      <div class="divider"></div>
      <form onsubmit="submitForm(event,'standard')">
        <div class="form-group">
          <label>Username</label>
          <input type="text" name="username" placeholder="mss0000" required>
        </div>
        <div class="form-group">
          <label>Email Address</label>
          <input type="email" name="email" placeholder="Registered email" required>
        </div>
        <p class="hint">You will receive a confirmation email after clicking the select button.</p>
        <button class="btn-select" type="submit">Select Plan</button>
      </form>
    </div>

    <div class="plan-panel" id="panel-premium">
      <div class="price-block">
        <div class="price-tag"><sup>LKR</sup>1199</div>
        <div class="price-sub">per month</div>
      </div>
      <ul class="features">
        <li><span class="icon check">✓</span> Entry Form</li>
        <li><span class="icon check">✓</span> Dashboard Page</li>
        <li><span class="icon check">✓</span> Analytics Page</li>
        <li><span class="icon check">✓</span> Download History</li>
        <li><span class="icon check">✓</span> AI Chat</li>
      </ul>
      <div class="divider"></div>
      <form onsubmit="submitForm(event,'premium')">
        <div class="form-group">
          <label>Username</label>
          <input type="text" name="username" placeholder="mss0000" required>
        </div>
        <div class="form-group">
          <label>Email Address</label>
          <input type="email" name="email" placeholder="Registered email" required>
        </div>
        <p class="hint">You will receive a confirmation email after clicking the select button.</p>
        <button class="btn-select" type="submit">Select Plan</button>
      </form>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
  const URLS = {
    basic:    'https://script.google.com/macros/s/AKfycbwVmawpiG0OgoxP8i0AJgQvKGYeThVK70NVMF1wrodKaUqZJm8pg98XrJzBHmWLM8Xo/exec',
    standard: 'https://script.google.com/macros/s/AKfycbwVmawpiG0OgoxP8i0AJgQvKGYeThVK70NVMF1wrodKaUqZJm8pg98XrJzBHmWLM8Xo/exec',
    premium:  'https://script.google.com/macros/s/AKfycbwVmawpiG0OgoxP8i0AJgQvKGYeThVK70NVMF1wrodKaUqZJm8pg98XrJzBHmWLM8Xo/exec'
  };

  /* Default plan set to 'standard' */
  let current = 'standard';

  function switchTab(plan) {
    current = plan;
    document.querySelectorAll('.plan-panel').forEach(p => p.classList.remove('active'));
    document.getElementById('panel-' + plan).classList.add('active');
    const btns = document.querySelectorAll('.tab-btn');
    btns.forEach(b => b.classList.toggle('active', b.dataset.plan === plan));
    updateSlider();
  }

  function updateSlider() {
    const switcher = document.getElementById('tabSwitcher');
    const activeBtn = switcher.querySelector('.tab-btn.active');
    const slider = document.getElementById('tabSlider');
    if(activeBtn && slider) {
      slider.style.left  = activeBtn.offsetLeft + 'px';
      slider.style.width = activeBtn.offsetWidth + 'px';
    }
  }

  /* Initialization logic to set standard plan on load */
  window.addEventListener('load', () => {
    switchTab('standard');
  });

  window.addEventListener('resize', updateSlider);

  function showToast(msg, type) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.className = 'toast show';
    t.style.borderLeft = type === 'success' ? '4px solid var(--green)' : '4px solid var(--red)';
    setTimeout(() => t.classList.remove('show'), 3500);
  }

  async function submitForm(e, plan) {
    e.preventDefault();
    const form = e.target;
    const btn  = form.querySelector('.btn-select');
    const username = form.querySelector('input[name="username"]').value.trim();
    const email    = form.querySelector('input[name="email"]').value.trim();
    btn.disabled = true;
    btn.textContent = 'Processing...';
    const params = new URLSearchParams({ username, email, plan });
    try {
      await fetch(URLS[plan] + '?' + params.toString(), { method: 'GET', mode: 'no-cors' });
      showToast('✓ Request sent successfully.', 'success');
      form.reset();
    } catch (err) {
      showToast('✕ Error connecting to server.', 'error');
    } finally {
      btn.disabled = false;
      btn.textContent = 'Select Plan';
    }
  }
</script>
</body>
</html>